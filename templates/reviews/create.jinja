{% extends "base.jinja" %}

{% block title %}Write Review - RankTutor{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl font-bold text-gray-900 mb-6">Write a Review</h1>
    
    <div class="bg-white rounded-lg shadow p-6 mb-6">
        <p class="text-gray-600 mb-4">Booking: {{ booking.subject.name }} with {{ booking.tutor.get_full_name()|default(booking.tutor.username) }}</p>
        <p class="text-sm text-gray-500">Date: {{ booking.lesson_date }}</p>
    </div>
    
    <form method="post" class="bg-white rounded-lg shadow p-6">
        <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
        <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">Rating</label>
            <div class="flex gap-2" x-data="{ rating: 5 }">
                {% for i in range(1, 6) %}
                <button type="button" @click="rating = {{ i }}" class="text-3xl focus:outline-none" :class="rating >= {{ i }} ? 'text-yellow-400' : 'text-gray-300'">
                    â˜…
                </button>
                <input type="radio" name="rating" value="{{ i }}" x-model="rating" class="hidden">
                {% endfor %}
            </div>
        </div>
        
        <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">Your Review</label>
            <textarea name="comment" rows="6" class="w-full rounded-md border-gray-300" placeholder="Share your experience..." required></textarea>
        </div>
        
        <div class="flex gap-4">
            <button type="submit" class="bg-indigo-600 text-white px-6 py-3 rounded-md hover:bg-indigo-700">
                Submit Review
            </button>
            <a href="{{ url('bookings:detail', booking.id) }}" class="bg-gray-300 text-gray-700 px-6 py-3 rounded-md hover:bg-gray-400">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}

